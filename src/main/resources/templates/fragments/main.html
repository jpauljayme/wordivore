<main th:fragment="main" id="main">
  <label th:text="${'@' + username}">
  </label>


  <div id="userLibrary" >
    <p th:if="${#lists.isEmpty(books)}">Nothing here yet.</p>
    <div th:replace="~{fragments/main :: userLibrary(books=${books})}">
    </div>
  </div>

</main>


<ul th:if="${not #lists.isEmpty(books)}" th:fragment="userLibrary(books)">
    <li th:each="b : ${books}" th:text="${b.title}"></li>
</ul>