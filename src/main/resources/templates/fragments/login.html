<section th:fragment="login">
  <div th:if="${param.error}">
    Invalid credentials. Try again.
  </div>
  <div th:if="${param.logout}">
    You have been logged out.
  </div>
  <form th:action="@{/login}"
        method="post"
        th:attr="hx-post=@{/login}"
        hx-target="#main"
        hx-swap="innerHTML"
  >
    <input type="hidden"
           th:name="${_csrf.parameterName}"
           th:value="${_csrf.token}"
    />
    <div>
      <label for="username">Username</label>
      <input type="text" id="username" name="username"/>
    </div>
    <div>
      <label for="password">Password</label>
      <input type="password" id="password" name="password"/>
    </div>
    <input type="submit" value="Log in">
  </form>
</section>